webpackJsonp([28],{729:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(0),s=(o(14),o(24),o(25)),i=(o(21),o(22)),n=(o(20),o(11)),r=(o(8),o(6)),l=(o(7),o(2)),c=(o(50),o(51)),d=(o(4),o(1)),u=o(3),v=o(42);a.default.use(s.a).use(i.a).use(n.a).use(r.a).use(l.a);a.default.use(s.a).use(i.a).use(n.a).use(r.a).use(l.a);var p={data:function(){return{guishudi:"中国大陆",phone:"",code:"",borderBottomColor:{code:"lightgray"},disabled:!0}},created:function(){var e=plus.webview.currentWebview();this.phone=e.phone},methods:{onFocus:function(e){"code"===e&&(this.borderBottomColor.code="#1287ca")},clear:function(e){"code"===e&&(this.code="")},loginByCode:function(){var e=this;Object(d.a)(u.a.loginVerifyLoginCodeMsg,{mobile:this.phone,code:this.code}).then(function(t){plus.storage.setItem("uid",t.uid),plus.storage.setItem("token",t.token),plus.storage.setItem("walletAddress",t.walletAddress),plus.storage.setItem("walletName",t.walletName),plus.storage.setItem("walletKeyStroe",t.keyStore),e.username="",e.password="";var o=plus.nativeUI.showWaiting(),a=plus.webview.create(v.a.homeViewUrl,v.a.homeViewId,{titleNView:null,render:"always"});a.addEventListener("loaded",function(){a.show("slide-in-right"),o.close()},100)})}},watch:{code:function(){this.disabled=!c.a.verifyCode.test(this.code)}}},f={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"body",staticStyle:{"background-color":"white"}},[o("div",{staticStyle:{"text-align":"left","margin-top":"-10%"}},[o("van-icon",{attrs:{name:"arrow-left",size:"30px",color:"#1287ca"},on:{click:function(t){e.closeWebview()}}})],1),e._v(" "),o("div",{staticStyle:{"margin-top":"10%"}}),e._v(" "),o("h1",[e._v("输入验证码")]),e._v(" "),o("div",{staticStyle:{color:"#7f7f7f"}},[e._v("我们已向"+e._s(e.phone.replace(/(\d{3})\d*(\d{4})/,"$1****$2"))+"发送短信验证码，请查看短信并输入验证码")]),e._v(" "),o("div",{staticClass:"tg-field",staticStyle:{"margin-top":"6%"},style:{borderBottomColor:e.borderBottomColor.code}},[o("van-row",{attrs:{type:"flex",justify:"start"}},[o("van-col",{staticClass:"tg-field-label",attrs:{span:"18"}},[o("div",[o("van-row",{attrs:{type:"flex",justify:"start"}},[o("van-col",{attrs:{span:"20"}},[o("input",{directives:[{name:"model",rawName:"v-model",value:e.code,expression:"code"}],staticClass:"tg-field-input",attrs:{placeholder:"请输入验证码"},domProps:{value:e.code},on:{focus:function(t){e.onFocus("code")},input:function(t){t.target.composing||(e.code=t.target.value)}}})]),e._v(" "),o("van-col",{attrs:{span:"4"}},[o("van-icon",{directives:[{name:"show",rawName:"v-show",value:e.code,expression:"code"}],attrs:{name:"cross",color:"gray",size:"20px"},on:{click:function(t){e.clear("code")}}})],1)],1)],1)])],1)],1),e._v(" "),o("van-button",{staticClass:"button-blue",staticStyle:{"margin-top":"8%"},attrs:{size:"large",disabled:e.disabled},on:{click:e.loginByCode}},[e._v("\n    立即登录\n  ")])],1)},staticRenderFns:[]};var m=o(9)(p,f,!1,function(e){o(730)},"data-v-249e5844",null).exports;new a.default({el:"#app",render:function(e){return e(m)}})},730:function(e,t){}},[729]);