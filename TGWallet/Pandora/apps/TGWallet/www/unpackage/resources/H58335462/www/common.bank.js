webpackJsonp([31],{518:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=e(0),A=(e(14),e(13),e(10)),u=(e(17),e(15)),s=(e(8),e(6)),l=(e(53),e(45)),i=(e(52),e(44)),o=(e(7),e(2)),r=(e(34),e(31)),c=(e(30),e(28)),d=(e(20),e(11)),m=e(1),v=(e(55),e(80)),w=e(4),p=e(46);n.default.use(A.a).use(u.a).use(s.a).use(l.a).use(i.a).use(o.a).use(r.a).use(c.a).use(d.a);n.default.use(A.a).use(u.a).use(s.a).use(l.a).use(i.a).use(o.a).use(r.a).use(c.a).use(d.a);var g={data:function(){return{radio:"20",buyNum:null,walletAddress:null,amount:"0.00",channels:null,channel:null,iap:null,showConfirm:!1,sendAmount:!1,walletName:!1,walletPassword:!1,gasPrice:null,gasLimit:null,orderId:null,receiveAddress:null,dollarAmount:null,ethAmount:null,gasValue:null,gasValueAmount:null}},mounted:function(){var a=plus.webview.currentWebview();this.buyNum=Number(a.buyNum),this.walletAddress=a.walletAddress,null!=a.dollarAmount&&(this.amount=Number(a.dollarAmount)),null!=a.ethAmount&&(this.ethAmount=Number(a.ethAmount)),null!=a.gasValue&&(this.gasValue=Number(a.gasValue)),null!=a.gasValueAmount&&(this.gasValueAmount=Number(a.gasValueAmount));var t=this;plus.payment.getChannels(function(a){for(var e in a){var n=a[e];"wxpay"===n.id&&(t.iap=n)}},function(a){console.log("获取支付通道失败："+a.message)})},methods:{questionAmount:function(){c.a.alert({message:"已包括燃料费，下单会实时计算汇率，可能跟预测的有偏差"})},requestPay:function(){var a={buyNum:this.buyNum,gasValue:Number(this.gasValue).toFixed(7),walletAddress:this.walletAddress,payType:this.radio},t=this;this.radio===v.a.wxpay&&(s.a.loading("正在生成支付单..."),Object(m.a)("/buyTg/api/createOrder",a).then(function(a){s.a.clear(),s.a.loading("正在跳转支付..."),plus.payment.request(t.iap,a,function(a){s.a.clear(),plus.nativeUI.confirm("请问是否支付成功，请勿重复支付",function(a){},"提示",["已支付成功","未成功"])},function(a){plus.nativeUI.confirm("重新请求支付?",function(a){},"没有支付成功！",["确定","取消"])})})),this.radio===v.a.eth_tg&&Object(m.a)("/buyTg/api/createOrder",a).then(function(a){var e=JSON.parse(a);Object(w.a)({title:"认购TG",url:"./wallet.send.html",id:"wallet.send"},{},{receiveAddress:t.walletAddress,orderId:e.orderId,sendAmount:e.totalAmount,orderType:p.a.virtualShopTg})})}}},b={render:function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"body text-left"},[n("div",[n("div",{staticClass:"box",staticStyle:{color:"#575757"}},[n("div",[n("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[a._v("订单详情")]),a._v(" "),n("div",[a._v("认购"+a._s(a.buyNum)+"TG")])]),a._v(" "),n("div",[n("span",{staticStyle:{"font-size":"17px","font-weight":"bold"}},[a._v("预计金额")]),a._v(" "),n("van-icon",{attrs:{name:"question-o"},on:{click:a.questionAmount}}),a._v(" "),n("div",["10"==a.radio?n("span",[a._v("≈"+a._s(Number(a.ethAmount+a.gasValue))+"Eth")]):a._e(),a._v(" "),"20"==a.radio?n("span",[a._v("≈"+a._s(Number(a.amount+a.gasValueAmount).toFixed(2))+"￥")]):a._e()])],1)]),a._v(" "),n("div",{staticClass:"box",staticStyle:{color:"#575757"}},[a._v("\n      请选择支付方式\n\n      "),n("div",{staticStyle:{"margin-top":"5%"}},[n("van-radio-group",{model:{value:a.radio,callback:function(t){a.radio=t},expression:"radio"}},[n("van-cell-group",[n("van-cell",{attrs:{title:"  "},on:{click:function(t){a.radio="10"}}},[n("van-radio",{attrs:{name:"10"}}),a._v(" "),n("img",{attrs:{slot:"icon",src:e(519)},slot:"icon"})],1),a._v(" "),n("van-cell",{attrs:{title:" "},on:{click:function(t){a.radio="20"}}},[n("van-radio",{attrs:{name:"20"}}),a._v(" "),n("img",{attrs:{slot:"icon",src:e(269)},slot:"icon"})],1)],1)],1)],1),a._v(" "),n("div",{staticStyle:{"margin-top":"30%","margin-bottom":"5%"}},[n("van-button",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:a.requestPay},expression:"{func:requestPay}"}],staticClass:"sendButton button-blue",attrs:{type:"primary",size:"large"}},[a._v("\n          立即支付\n        ")])],1)])])])},staticRenderFns:[]},E=e(9)(g,b,!1,null,null,null).exports;new n.default({el:"#app",render:function(a){return a(E)}})},519:function(a,t){a.exports="data:image/jpeg;base64,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"}},[518]);