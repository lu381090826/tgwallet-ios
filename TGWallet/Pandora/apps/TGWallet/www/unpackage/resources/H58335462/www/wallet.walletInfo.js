webpackJsonp([11],{723:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a(0),i=(a(14),a(13),a(10)),n=(a(17),a(15)),s=(a(8),a(6)),o=(a(7),a(2)),r=(a(36),a(33)),c=(a(34),a(31)),u=(a(30),a(28)),d=(a(12),a(1)),v=a(3),p=a(102),w=a.n(p),f=a(43),m=a(58);l.default.use(u.a),l.default.use(c.a),l.default.use(r.a),l.default.use(w.a),l.default.use(i.a).use(n.a).use(s.a).use(o.a);l.default.use(u.a),l.default.use(c.a),l.default.use(r.a),l.default.use(w.a),l.default.use(i.a).use(n.a).use(s.a).use(o.a);var b={data:function(){return{walletAddress:null,walletName:null,value:null,mobile:null,password:null,confirmExport:!1,times:0,disableVerify:!1,exportType:null,verifyCode:null,keyShow:!1,alterWalletNameShow:!1,newWalletName:null,key:"获取失败。"}},methods:{alterWalletName:function(){this.alterWalletNameShow=!this.alterWalletNameShow},exportPrivateKey:function(e){this.confirmExport=!0,this.exportType=e},exportKey:function(){var e=this;s.a.loading("正在风险审核，请稍等..."),setTimeout(function(){f.a.getBalance(e.walletAddress).then(function(t){Number(t)>3e4?u.a.alert({message:"您钱包价值过大，不允许系统直接导出，请联系客服咨询。"}):(s.a.loading("正在获取私钥..."),setTimeout(function(){Object(d.a)(v.a.exprotKey,{exportPrivateType:e.exportType,verifyCode:e.verifyCode,walletAddress:e.walletAddress,password:e.password}).then(function(t){e.confirmExport=!e.confirmExport,e.keyShow=!e.keyShow,e.key=t,s.a.clear()})},50))})},50)},doAlterWalletName:function(){var e=this;Object(d.a)(v.a.alterWalletName,{walletAddress:this.walletAddress,walletName:this.newWalletName}).then(function(t){s.a.success("修改成功"),e.walletName=e.newWalletName,Object(m.a)(plus.webview.getWebviewById("wallet.walletConfig"),"init"),Object(m.a)(plus.webview.getWebviewById("common.home"),"walletList"),Object(m.a)(plus.webview.getWebviewById("wallet.asset"),"walletList"),e.alterWalletNameShow=!1})},sendVerifyCode:function(){Object(d.a)(v.a.verifySendCodeMsg).then(function(e){s.a.success("验证码已发送")}),this.disableVerify=!0,this.times=59,this.countdown()},countdown:function(){var e=this;setTimeout(function(){if(0===e.times)return e.times=60,e.disableVerify=!1,!1;e.times--,e.countdown()},1e3)},deleteWallet:function(){var e=this,t=plus.webview.currentWebview();u.a.confirm({title:"删除钱包",message:"确定要删除吗？"}).then(function(){Object(d.a)(v.a.walletDelete,{walletAddress:e.walletAddress}).then(function(e){s.a.success("删除成功"),Object(m.a)(plus.webview.getWebviewById("wallet.walletConfig"),"init"),Object(m.a)(plus.webview.getWebviewById("common.home"),"walletList"),Object(m.a)(plus.webview.getWebviewById("wallet.asset"),"walletList"),setTimeout(function(){t.close()})})})},doCopy:function(){this.$copyText(this.key).then(function(e){s.a.success({message:"复制成功",position:"bottom"})},function(e){})}},created:function(){var e=this,t=plus.webview.currentWebview();this.walletAddress=t.walletAddress,this.walletName=t.walletName,Object(d.a)(v.a.userGetMobile).then(function(t){e.mobile=t})}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{padding:"3%"}},[a("div",{staticClass:"box"},[a("div",[a("van-cell-group",[a("van-cell",{attrs:{title:"钱包地址"}},[e._v("\n          "+e._s(e.walletAddress)+"\n        ")]),e._v(" "),a("van-cell",{attrs:{title:"钱包名"},on:{click:e.alterWalletName}},[e._v("\n          "+e._s(e.walletName)+"\n        ")])],1)],1),e._v(" "),a("div",{staticStyle:{"margin-top":"5%"}},[a("van-cell-group",[a("van-cell",{attrs:{title:"导出私钥","is-link":""},on:{click:function(t){e.exportPrivateKey(10)}}}),e._v(" "),a("van-cell",{attrs:{title:"导出KeyStore","is-link":""},on:{click:function(t){e.exportPrivateKey(20)}}})],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"center","margin-top":"30%","margin-bottom":"5%"}},[a("van-button",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.deleteWallet},expression:"{func:deleteWallet}"}],attrs:{size:"large"}},[e._v("\n        删除钱包\n      ")])],1)]),e._v(" "),a("van-popup",{staticClass:"box",staticStyle:{width:"300px",height:"300px"},model:{value:e.confirmExport,callback:function(t){e.confirmExport=t},expression:"confirmExport"}},[a("div",{staticStyle:{"text-align":"center"}},[a("div",{staticStyle:{padding:"10%"}},[e._v("\n        尊敬的客户，导出私钥需要手机验证，认证短信将发送到"+e._s(e.mobile)+"\n      ")]),e._v(" "),a("van-cell-group",[a("van-field",{attrs:{label:"验证码",type:"number",placeholder:"验证码",clearable:""},model:{value:e.verifyCode,callback:function(t){e.verifyCode=t},expression:"verifyCode"}},[a("van-button",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:e.sendVerifyCode},expression:"{func:sendVerifyCode}"}],attrs:{slot:"button",size:"small",type:"default",disabled:e.disableVerify},slot:"button"},[0===e.times||60===e.times?a("span",[e._v("发送短信")]):a("span",[e._v(e._s(e.times)+"s")])])],1),e._v(" "),10===e.exportType?a("van-field",{attrs:{label:"钱包密码",type:"password",placeholder:"密码",clearable:""},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}):e._e()],1),e._v(" "),a("div",{staticStyle:{width:"80%","text-align":"center","margin-left":"10%","margin-top":"10%"}},[a("van-button",{attrs:{size:"large"},on:{click:e.exportKey}},[e._v("立即导出")])],1)],1)]),e._v(" "),a("van-popup",{staticClass:"box",staticStyle:{width:"80%"},model:{value:e.keyShow,callback:function(t){e.keyShow=t},expression:"keyShow"}},[a("div",{staticStyle:{padding:"10%","word-break":"break-all"}},[e._v("\n      "+e._s(e.key)+"\n    ")]),e._v(" "),a("div",{staticStyle:{"margin-top":"5%"}},[a("van-button",{attrs:{size:"large",type:"info"},on:{click:e.doCopy}},[e._v("复制")])],1)]),e._v(" "),a("van-popup",{staticClass:"box",staticStyle:{width:"80%",height:"150px"},model:{value:e.alterWalletNameShow,callback:function(t){e.alterWalletNameShow=t},expression:"alterWalletNameShow"}},[a("van-field",{attrs:{label:"钱包名称",type:"text",placeholder:"输入新的钱包名",clearable:""},model:{value:e.newWalletName,callback:function(t){e.newWalletName=t},expression:"newWalletName"}}),e._v(" "),a("div",{staticStyle:{"margin-top":"18%"}},[a("van-button",{attrs:{size:"large",type:"info"},on:{click:e.doAlterWalletName}},[e._v("修改")])],1)],1)],1)},staticRenderFns:[]};var h=a(9)(b,y,!1,function(e){a(724)},"data-v-6e4b9a5c",null).exports;new l.default({el:"#app",render:function(e){return e(h)}})},724:function(e,t){}},[723]);