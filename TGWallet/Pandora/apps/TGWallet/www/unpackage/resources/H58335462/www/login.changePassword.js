webpackJsonp([42],{733:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(0),o=(r(14),r(24),r(25)),l=(r(21),r(22)),s=(r(20),r(11)),n=(r(8),r(6)),i=(r(7),r(2)),c=(r(50),r(51)),u=r(1),d=r(3),p=(String,Number,{name:"tg-field",props:{value:[String,Number],placeholder:{},type:""},data:function(){return{currentValue:"",borderBottomColor:"lightgray"}},methods:{handleModelInput:function(){console.log(this.currentValue),this.$emit("change",this.currentValue)},onBlur:function(){"#1287ca"===this.borderBottomColor?this.borderBottomColor="lightgray":this.borderBottomColor="#1287ca"},onFocus:function(){"lightgray"===this.borderBottomColor?this.borderBottomColor="#1287ca":this.borderBottomColor="#lightgray"},clear:function(){this.currentValue=""}},watch:{value:function(e){this.currentValue=e}}}),h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"tg-field",staticStyle:{"margin-top":"6%"},style:{borderBottomColor:e.borderBottomColor}},[r("van-row",{attrs:{type:"flex",justify:"start"}},[r("van-col",{staticClass:"tg-field-label",attrs:{span:"18"}},[r("div",[r("van-row",{attrs:{type:"flex",justify:"start"}},[r("van-col",{attrs:{span:"20"}},["checkbox"===e.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"tg-field-input",attrs:{placeholder:e.placeholder,title:"ss",type:"checkbox"},domProps:{checked:Array.isArray(e.currentValue)?e._i(e.currentValue,null)>-1:e.currentValue},on:{input:e.handleModelInput,change:function(t){var r=e.currentValue,a=t.target,o=!!a.checked;if(Array.isArray(r)){var l=e._i(r,null);a.checked?l<0&&(e.currentValue=r.concat([null])):l>-1&&(e.currentValue=r.slice(0,l).concat(r.slice(l+1)))}else e.currentValue=o}}}):"radio"===e.type?r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"tg-field-input",attrs:{placeholder:e.placeholder,title:"ss",type:"radio"},domProps:{checked:e._q(e.currentValue,null)},on:{input:e.handleModelInput,change:function(t){e.currentValue=null}}}):r("input",{directives:[{name:"model",rawName:"v-model",value:e.currentValue,expression:"currentValue"}],staticClass:"tg-field-input",attrs:{placeholder:e.placeholder,title:"ss",type:e.type},domProps:{value:e.currentValue},on:{input:[function(t){t.target.composing||(e.currentValue=t.target.value)},e.handleModelInput]}})]),e._v(" "),r("van-col",{attrs:{span:"4"}},[r("van-icon",{directives:[{name:"show",rawName:"v-show",value:e.value,expression:"value"}],attrs:{name:"cross",color:"gray",size:"20px"},on:{click:function(t){e.clear()}}})],1)],1)],1)])],1)],1)},staticRenderFns:[]},v=r(9)(p,h,!1,null,null,null).exports,f=r(42);a.default.use(o.a).use(l.a).use(s.a).use(n.a).use(i.a);a.default.use(o.a).use(l.a).use(s.a).use(n.a).use(i.a);var m={components:{TgField:v},data:function(){return{guishudi:"中国大陆",phone:"",codeInput:"",password:"",passwordAgain:"",placeholder:{code:"请输入验证码",password:"请输入密码",passwordAgain:"请再次输入密码"}}},created:function(){var e=plus.webview.currentWebview();this.phone=e.phone},methods:{submit:function(){var e=this.$refs.code.currentValue,t=this.$refs.password.currentValue,r=this.$refs.passwordAgain.currentValue;return c.a.verifyCode.test(e)?c.a.password.test(t)?c.a.password.test(r)||this.passwordAgain===t?void Object(u.a)(d.a.changePassword,{mobile:this.phone,code:e,password:t}).then(function(e){1===e&&(n.a.success("修改成功"),setTimeout(function(){plus.webview.getWebviewById(f.a.loginViewId).show()},100))}):(n.a.fail("请检查第二次输入的密码是否正确"),!1):(n.a.fail("请检查密码格式是否正确"),!1):(n.a.fail("请检查验证码是否正确"),!1)}}},g={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"body",staticStyle:{"background-color":"white"}},[r("div",{staticStyle:{"text-align":"left","margin-top":"-10%"}},[r("van-icon",{attrs:{name:"arrow-left",size:"30px",color:"#1287ca"},on:{click:function(t){e.closeWebview()}}})],1),e._v(" "),r("div",{staticStyle:{"margin-top":"10%"}}),e._v(" "),r("h1",[e._v("修改密码")]),e._v(" "),r("div",{staticStyle:{color:"#7f7f7f"}},[e._v("我们已向"+e._s(e.phone.replace(/(\d{3})\d*(\d{4})/,"$1****$2"))+"发送短信验证码，请查看短信并输入验证码")]),e._v(" "),r("tg-field",{ref:"code",attrs:{placeholder:e.placeholder.code,type:"number"}}),e._v(" "),r("tg-field",{ref:"password",attrs:{placeholder:e.placeholder.password,type:"password"}}),e._v(" "),r("tg-field",{ref:"passwordAgain",attrs:{placeholder:e.placeholder.passwordAgain,type:"password"}}),e._v(" "),r("van-button",{staticClass:"button-blue",staticStyle:{"margin-top":"8%"},attrs:{size:"large"},on:{click:e.submit}},[e._v("\n    立即修改\n  ")])],1)},staticRenderFns:[]},w=r(9)(m,g,!1,null,null,null).exports;new a.default({el:"#app",render:function(e){return e(w)}})}},[733]);