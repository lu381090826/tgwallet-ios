webpackJsonp([18],{592:function(s,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var e=a(0),o=(a(14),a(24),a(25)),r=(a(21),a(22)),i=(a(20),a(11)),n=(a(7),a(2)),l=(a(50),a(51)),d=a(1),c=a(3),p=a(12),u=a(42);a(4);e.default.use(o.a).use(r.a).use(i.a).use(n.a);e.default.use(o.a).use(r.a).use(i.a).use(n.a);var w={data:function(){return{password:"",passwordAgain:"",borderBottomColor:{password:"lightgray",passwordAgain:"lightgray"},disabled:!0,phone:null,captcha:"123456"}},methods:{checkAble:function(){return l.a.password.test(this.password)&&this.password===this.passwordAgain&&Object(p.c)(this.phone)},onFocus:function(s){"password"===s?(this.borderBottomColor.password="#1287ca",this.borderBottomColor.passwordAgain="lightgray"):(this.borderBottomColor.passwordAgain="#1287ca",this.borderBottomColor.password="lightgray")},clear:function(s){"password"===s&&(this.password=""),"passwordAgain"===s&&(this.passwordAgain="")},register:function(){var s={phone:this.phone,password:this.password,captcha:this.captcha,passwordAgain:""};Object(d.a)(c.a.register,s).then(function(s){if(s.uid){plus.storage.clear(),plus.storage.setItem("uid",s.uid),plus.storage.setItem("token",s.token),plus.storage.setItem("walletAddress",s.walletAddress),plus.storage.setItem("walletName",s.walletName);var t=plus.nativeUI.showWaiting(),a=plus.webview.create(u.a.homeViewUrl,u.a.homeViewId,{titleNView:null,render:"always"});a.addEventListener("loaded",function(){a.show("slide-in-right"),t.close();for(var s=plus.webview.all(),e=0;e<s.length;e++)u.a.inLastWebViewIds(s[e].id)||s[e].close()},100)}})}},created:function(){var s=plus.webview.currentWebview();this.phone=s.phone},watch:{password:function(){this.disabled=!this.checkAble()},passwordAgain:function(){this.disabled=!this.checkAble()}}},v={render:function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("div",{staticClass:"body",staticStyle:{"background-color":"white"}},[a("div",{staticStyle:{"text-align":"left","margin-top":"-10%"}},[a("van-icon",{attrs:{name:"arrow-left",size:"30px",color:"#1287ca"},on:{click:function(t){s.closeWebview()}}})],1),s._v(" "),a("div",{staticStyle:{"margin-top":"10%"}}),s._v(" "),a("h1",[s._v("设置密码")]),s._v(" "),a("div",{staticClass:"tg-field",style:{borderBottomColor:s.borderBottomColor.password}},[a("van-row",{attrs:{type:"flex",justify:"start"}},[a("van-col",{staticClass:"tg-field-title",attrs:{span:"6"}},[s._v("\n        密码\n      ")]),s._v(" "),a("van-col",{staticClass:"tg-field-label",attrs:{span:"18"}},[a("div",[a("van-row",{attrs:{type:"flex",justify:"start"}},[a("van-col",{attrs:{span:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.password,expression:"password"}],staticClass:"tg-field-input",attrs:{placeholder:"请输入密码",type:"password"},domProps:{value:s.password},on:{focus:function(t){s.onFocus("password")},input:function(t){t.target.composing||(s.password=t.target.value)}}})]),s._v(" "),a("van-col",{attrs:{span:"4"}},[a("van-icon",{directives:[{name:"show",rawName:"v-show",value:s.password,expression:"password"}],attrs:{name:"cross",color:"gray",size:"20px"},on:{click:function(t){s.clear("password")}}})],1)],1)],1)])],1)],1),s._v(" "),a("div",{staticClass:"tg-field",style:{borderBottomColor:s.borderBottomColor.passwordAgain}},[a("van-row",{attrs:{type:"flex",justify:"start"}},[a("van-col",{staticClass:"tg-field-title",attrs:{span:"6"}},[s._v("\n        确认密码\n      ")]),s._v(" "),a("van-col",{staticClass:"tg-field-label",attrs:{span:"18"}},[a("div",[a("van-row",{attrs:{type:"flex",justify:"start"}},[a("van-col",{attrs:{span:"20"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:s.passwordAgain,expression:"passwordAgain"}],staticClass:"tg-field-input",attrs:{placeholder:"请再次确认密码",type:"password"},domProps:{value:s.passwordAgain},on:{focus:function(t){s.onFocus("passwordAgain")},input:function(t){t.target.composing||(s.passwordAgain=t.target.value)}}})]),s._v(" "),a("van-col",{attrs:{span:"4"}},[a("van-icon",{directives:[{name:"show",rawName:"v-show",value:s.passwordAgain,expression:"passwordAgain"}],attrs:{name:"cross",color:"gray",size:"20px"},on:{click:function(t){s.clear("passwordAgain")}}})],1)],1)],1)])],1)],1),s._v(" "),a("van-button",{staticClass:"button-blue",staticStyle:{"margin-top":"8%"},attrs:{size:"large",disabled:s.disabled},on:{click:s.register}},[s._v("立即注册\n  ")])],1)},staticRenderFns:[]};var g=a(9)(w,v,!1,function(s){a(593)},"data-v-2bf65346",null).exports;new e.default({el:"#app",render:function(s){return s(g)}})},593:function(s,t){}},[592]);