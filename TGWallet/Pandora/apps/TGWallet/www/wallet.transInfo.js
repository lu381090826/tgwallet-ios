webpackJsonp([13],{721:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(0),n=(a(14),a(13),a(10)),s=(a(17),a(15)),i=(a(8),a(6)),o=(a(94),a(95)),c=a(111),u=a(12),l=a(43);r.default.use(n.a).use(s.a).use(i.a).use(o.a);r.default.use(n.a).use(s.a).use(i.a).use(o.a);var f={data:function(){return{tx:"",state:"",stateDesc:"",errDescription:"",isLoading:!1,gasUsed:"0x",transInfo:{blockHash:"0x",blockNumber:"0x",from:"0x",gas:"0x",gasPrice:"0x",hash:"0x",input:"0x",nonce:"0x",to:"0x",transactionIndex:"0x",value:"0x",v:"0x",r:"0x",s:"0x"}}},methods:{onRefresh:function(){var t=this;setTimeout(function(){t.queryData(),t.isLoading=!1},500)},formatHexNumber:function(t){return Object(u.c)(t)?parseInt(t.replace("0x",""),16)+"":t},formatETH:function(t){return Object(u.c)(t)?l.a.instance.fromWei(this.formatHexNumber(t),"gwei")+"":gas},queryReceipt:function(){var t=this.tx,e=this;c.a.get({module:"proxy",action:"eth_getTransactionReceipt",txhash:t},!1).then(function(t){if(Object(u.a)(t))return setTimeout(function(){e.queryReceipt()},500),!1;e.gasUsed=t.gasUsed})},queryGetstatus:function(){var t=this.tx,e=this;c.a.get({module:"transaction",action:"getstatus",txhash:t},!1).then(function(t){if(Object(u.a)(t))return setTimeout(function(){e.queryGetstatus()},500),!1;if(Object(u.c)(t.isError)){e.state=t.isError;var a=Number(t.isError);if(1===a)switch(e.stateDesc="交易失败",t.errDescription){case"out of gas":e.errDescription="燃料费不足，请提高燃料费重试";break;default:e.errDescription=t.errDescription}else 0===a&&(e.stateDesc="交易成功",e.errDescription=t.errDescription)}})},queryTrancaction:function(){var t=this.tx,e=this;c.a.get({module:"proxy",action:"eth_getTransactionByHash",txhash:t},!1).then(function(t){if(Object(u.a)(t))return setTimeout(function(){e.queryTrancaction()},500),!1;e.transInfo=t})},queryData:function(){this.tx;this.queryTrancaction(),this.queryGetstatus(),this.queryReceipt()}},created:function(){var t=plus.webview.currentWebview();this.tx=t.tx,i.a.loading({message:"查询中...",duration:0}),Object(u.c)(t.tx)&&this.queryData()}},v={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("van-pull-refresh",{on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[t.tx?a("div",[a("van-cell-group",[a("van-cell",{attrs:{title:"交易状态",label:t.stateDesc}}),t._v(" "),"1"===t.state?a("van-cell",{attrs:{title:"交易失败原因",label:t.errDescription}}):t._e(),t._v(" "),a("van-cell",{attrs:{title:"交易哈希值",label:t.transInfo.blockHash}}),t._v(" "),a("van-cell",{attrs:{title:"区块高度",label:t.formatHexNumber(t.transInfo.blockNumber)}}),t._v(" "),a("van-cell",{attrs:{title:"发送方",label:t.transInfo.from}}),t._v(" "),a("van-cell",{attrs:{title:"接收方",label:t.transInfo.to}}),t._v(" "),a("van-cell",{attrs:{title:"实际支付的矿工费(ETH)",label:t.formatETH(t.gasUsed)}}),t._v(" "),a("van-cell",{attrs:{title:"随机数",label:t.formatHexNumber(t.transInfo.nonce)}}),t._v(" "),a("van-cell",{attrs:{title:"交易燃料费用(ETH)",label:t.formatETH(t.transInfo.gasPrice)}})],1)],1):a("div",[t._v("无效 交易哈希值")])])],1)},staticRenderFns:[]};var h=a(9)(f,v,!1,function(t){a(722)},"data-v-e6315b8a",null).exports;new r.default({el:"#app",render:function(t){return t(h)}})},722:function(t,e){}},[721]);