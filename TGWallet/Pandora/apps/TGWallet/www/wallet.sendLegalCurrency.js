webpackJsonp([15],{583:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(0),i=(r(14),r(84)),n=r.n(i),o=(r(7),r(2)),s=(r(52),r(44)),u=(r(17),r(15)),d=(r(13),r(10)),l=(r(53),r(45)),c=r(1),v=r(3),p=r(12),m=r(46),f=r(80);a.default.use(o.a).use(s.a).use(u.a).use(d.a).use(l.a);a.default.use(o.a).use(s.a).use(u.a).use(d.a).use(l.a);var h={data:function(){return{orderId:null,orderType:null,totalAmount:null,radio:f.a.wxpay,orderDetailList:[],iap:null}},created:function(){var t=this,e=plus.webview.currentWebview();Object(p.c)(e.orderId)&&(this.orderId=e.orderId),Object(p.c)(e.orderType)&&(this.orderType=e.orderType),this.orderType!==m.a.shop&&this.orderType!==m.a.virtualShopTg||Object(c.a)(v.a.shopOrderGet,{orderId:this.orderId}).then(function(e){t.totalAmount=e.totalAmount,t.orderDetailList=e.orderDetailList})},methods:{requestPay:function(){var t={totalAmount:this.totalAmount,memo:this.orderDetailList[0].skuName,orderId:this.orderId},e=this;this.radio===f.a.wxpay&&Object(c.a)("/shop/order/createWxpay",t).then(function(t){plus.payment.request(e.iap,t,function(t){plus.nativeUI.confirm("请问是否支付成功，请勿重复支付",function(t){},"提示",["已支付成功","未成功"])},function(t){plus.nativeUI.confirm("错误信息："+n()(t),function(t){},"重新请求支付",["确定","取消"])})})}},computed:{}},y={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box",staticStyle:{padding:"3%",width:"90%"}},[t.orderDetailList.length>0?a("div",[t._v("商品名称："+t._s(t.orderDetailList[0].skuName)+"￥")]):t._e(),t._v(" "),a("div",[t._v("支付金额："+t._s(t.totalAmount)+"￥")]),t._v(" "),a("div",{staticStyle:{color:"#575757","margin-top":"10%"}},[t._v("\n    请选择支付方式\n    "),a("div",{staticStyle:{"margin-top":"5%"}},[a("van-radio-group",{model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("van-cell-group",[a("van-cell",{attrs:{title:" "},on:{click:function(e){t.radio="20"}}},[a("van-radio",{attrs:{name:"20"}}),t._v(" "),a("img",{attrs:{slot:"icon",src:r(269)},slot:"icon"})],1)],1)],1)],1),t._v(" "),a("div",{staticStyle:{"margin-top":"30%","margin-bottom":"5%"}},[a("van-button",{directives:[{name:"intervalclick",rawName:"v-intervalclick",value:{func:t.requestPay},expression:"{func:requestPay}"}],staticClass:"sendButton button-blue",attrs:{type:"primary",size:"large"}},[t._v("\n        立即支付\n      ")])],1)])])},staticRenderFns:[]};var _=r(9)(h,y,!1,function(t){r(584)},"data-v-d0e24c74",null).exports;new a.default({el:"#app",render:function(t){return t(_)}})},584:function(t,e){}},[583]);