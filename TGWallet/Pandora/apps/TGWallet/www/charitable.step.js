webpackJsonp([2],{273:function(t,e,a){t.exports=a.p+"assets/img/shuangshou.png"},538:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(0),r=(a(14),a(8),a(6)),i=(a(7),a(2)),n=(a(16),a(540),a(5)),o=a(272),l=a(271),u=Object(n.k)("circle"),c=u[0],h=u[1],d="M 530 530 m -500, 0 a 500, 500 0 1, 1 1000, 0 a 500, 500 0 1, 1 -1000, 0";function p(t){return Math.min(Math.max(t,0),100)}var v=c({props:{text:String,value:Number,speed:Number,size:{type:String,default:"100px"},fill:{type:String,default:"none"},rate:{type:Number,default:100},layerColor:{type:String,default:l.e},color:{type:String,default:l.a},strokeWidth:{type:Number,default:40},clockwise:{type:Boolean,default:!0}},computed:{style:function(){return{width:this.size,height:this.size}},layerStyle:function(){var t=3140*(100-this.value)/100;return t=this.clockwise?t:6280-t,{stroke:""+this.color,strokeDashoffset:t+"px",strokeWidth:this.strokeWidth+1+"px"}},hoverStyle:function(){return{fill:""+this.fill,stroke:""+this.layerColor,strokeWidth:this.strokeWidth+"px"}}},watch:{rate:{handler:function(){this.startTime=Date.now(),this.startRate=this.value,this.endRate=p(this.rate),this.increase=this.endRate>this.startRate,this.duration=Math.abs(1e3*(this.startRate-this.endRate)/this.speed),this.speed?(Object(o.a)(this.rafId),this.rafId=Object(o.b)(this.animate)):this.$emit("input",this.endRate)},immediate:!0}},methods:{animate:function(){var t=Date.now(),e=Math.min((t-this.startTime)/this.duration,1)*(this.endRate-this.startRate)+this.startRate;this.$emit("input",p(parseFloat(e.toFixed(1)))),(this.increase?e<this.endRate:e>this.endRate)&&(this.rafId=Object(o.b)(this.animate))}},render:function(t){return t("div",{class:h(),style:this.style},[t("svg",{attrs:{viewBox:"0 0 1060 1060"}},[t("path",{class:h("hover"),style:this.hoverStyle,attrs:{d:d}}),t("path",{class:h("layer"),style:this.layerStyle,attrs:{d:d}})]),this.slots()||this.text&&t("div",{class:h("text")},[this.text])])}}),f=(a(24),a(25)),m=(a(21),a(22)),g=a(1),b=a(203),y=(Number,Number,Number,{props:{time:{type:Number,default:2},value:{type:Number,default:0},fontSize:{type:Number,default:20}},methods:{numberGrow:function(t){var e=this,a=Math.ceil(10*e.value/(1e3*e.time)),s=0,r=0,i=setInterval(function(){(r+=a)>e.value&&(clearInterval(i),r=e.value,i=null),s!==r&&(s=r,t.innerHTML=s.toString().replace(/(\d)(?=(?:\d{3}[+]?)+$)/g,"$1,"))},10)}},mounted:function(){this.numberGrow(this.$refs.numberGrow)}}),S={render:function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"number-grow-warp"},[e("span",{ref:"numberGrow",staticClass:"number-grow",style:{fontSize:this.fontSize},attrs:{"data-time":this.time,"data-value":this.value}},[this._v("0")])])},staticRenderFns:[]};var w=a(9)(y,S,!1,function(t){a(542)},null,null).exports;Number,Number,Number,String,String;var C={props:{list:{type:Number,default:0},jindu:{type:Number,default:0},size:{type:Number,default:120},strokeColor:{type:String,default:"#ffcb63"},strokeLinecap:{validator:function(t){return function(t,e){for(var a=0;a<e.length;a++)if(t===e[a])return!0;return!1}(t,["square","round"])},default:"round"},trailColor:{type:String,default:"#efefef"}},data:function(){return{percent:0}},computed:{circleSize:function(){return{width:this.size+"px",height:this.size+"px"}},radius:function(){return 47},pathString:function(){return"M 50,50 m 0,-"+this.radius+"\n          a "+this.radius+","+this.radius+" 0 1 1 0,"+2*this.radius+"\n          a "+this.radius+","+this.radius+" 0 1 1 0,-"+2*this.radius},len:function(){return 2*Math.PI*this.radius},pathStyle:function(){return{"stroke-dasharray":this.len+"px "+this.len+"px","stroke-dashoffset":(100-this.percent)/100*this.len+"px",transition:"stroke-dashoffset 0.6s ease 0s, stroke 0.6s ease"}},wrapClasses:function(){return"ivu-chart-circle"},innerClasses:function(){return"ivu-chart-circle-inner"}},created:function(){var t=this;setTimeout(function(){t.percent=t.list},500)},components:{numberGrow:w}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"circle_container"},[a("div",{class:t.wrapClasses,style:t.circleSize},[a("svg",{attrs:{viewBox:"0 0 100 100"}},[a("path",{attrs:{d:t.pathString,stroke:t.trailColor,"stroke-width":5,"fill-opacity":0}}),t._v(" "),a("path",{style:t.pathStyle,attrs:{d:t.pathString,"stroke-linecap":t.strokeLinecap,stroke:t.strokeColor,"stroke-width":6,"fill-opacity":"0"}})]),t._v(" "),a("div",{class:t.innerClasses},[t._t("default",[a("h3",{},[a("span",{staticStyle:{"font-size":"10px",color:"gray"}},[t._v("今日步数")]),t._v(" "),a("numberGrow",{attrs:{value:t.jindu,time:.5,fontSize:30}})],1)])],2)])])},staticRenderFns:[]};var x=a(9)(C,_,!1,function(t){a(541)},"data-v-573fd31b",null).exports,k=(a(188),a(3));s.default.use(i.a).use(v).use(f.a).use(m.a);s.default.use(i.a).use(v).use(f.a).use(m.a);var N={data:function(){return{todayStep:Number(localStorage.getItem("todayStep")),totalStep:localStorage.getItem("totalStep"),hasChange:localStorage.getItem("hasChange"),backgroundImg:a(273)}},created:function(){if(!Object(b.a)(localStorage.getItem("lastStepTime"))){this.todayStep=0,localStorage.setItem("todayStep",0);var t=(new Date).getTime();localStorage.setItem("lastStepTime",t)}},mounted:function(){var t=plus.webview.currentWebview();t.addEventListener("hide",function(e){t.close()},!1)},computed:{canChange:function(){return this.progressVal>=100},progressVal:{get:function(){var t=this.todayStep/5e3*100;return t>=100&&(t=100),t},set:function(){}}},methods:{changeStep:function(){var t=this;Object(g.a)(k.a.donationStepToTG,{receiveAddress:plus.storage.getItem("walletAddress")}).then(function(e){Object(r.a)("兑换成功，请查收"),localStorage.setItem("todayStep",0),localStorage.setItem("hasChange",1),t.hasChange=1,t.canChange=!1})}},components:{"circle-progress":x}},I={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"body"},[s("div",{staticClass:"box"},[s("div",{staticClass:"banner",style:{backgroundImage:"url("+t.backgroundImg+")"}},[s("div",{staticClass:"banner-title"},[t._v("捐助困境中的病人")]),t._v(" "),s("div",{staticClass:"banner-button"},[t._v("直接捐赠")])]),t._v(" "),s("div",{staticClass:"circle_contain"},[s("circle-progress",{attrs:{list:t.progressVal,jindu:t.todayStep,size:150}})],1),t._v(" "),s("div",[s("van-button",{directives:[{name:"show",rawName:"v-show",value:!t.canChange,expression:"!canChange"}],staticClass:"changeButton button-orange",attrs:{round:"",size:"normal",disabled:"",type:"primary"}},[t._v("\n        立即捐步\n      ")]),t._v(" "),s("van-button",{directives:[{name:"show",rawName:"v-show",value:t.canChange,expression:"canChange"}],staticClass:"changeButton button-orange",attrs:{round:"",size:"normal",type:"primary"},on:{click:t.changeStep}},[t._v("\n        立即捐步\n      ")])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.hasChange,expression:"!hasChange"}],staticClass:"progress-title"},[t._v("\n        每天集满5000步可兑换一次"),s("strong",{staticStyle:{color:"dodgerblue"}},[t._v("1TG")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.hasChange,expression:"hasChange"}],staticClass:"progress-title"},[t._v("\n        今天已经兑换过了，明天再来吧。\n    ")])]),t._v(" "),s("div",{staticClass:"box"},[s("van-row",{attrs:{type:"flex"}},[s("van-col",{attrs:{span:"6"}},[s("img",{attrs:{src:a(543),width:"60"}})]),t._v(" "),s("van-col",{attrs:{span:"12"}},[s("div",{staticStyle:{"text-align":"left","margin-top":"3%"}},[s("div",{staticStyle:{"font-weight":"bold"}},[t._v("查看"),s("span",{staticStyle:{color:"#33ccef"}},[t._v("我的公益")])]),t._v(" "),s("div",[s("span",{staticStyle:{color:"#9c9c9c"}},[t._v("每个公益行为都很珍贵")])])])]),t._v(" "),s("van-col",{attrs:{span:"6"}},[s("div",{staticStyle:{"margin-top":"15%"}},[s("van-button",{staticClass:"button-orange",attrs:{size:"small",round:""}},[t._v("立即查看")])],1)])],1)],1),t._v(" "),s("div",{staticClass:"step-footer"})])},staticRenderFns:[]};var z=a(9)(N,I,!1,function(t){a(539)},"data-v-61b8291a",null).exports;new s.default({el:"#app",render:function(t){return t(z)}})},539:function(t,e){},540:function(t,e){},541:function(t,e){},542:function(t,e){},543:function(t,e,a){t.exports=a.p+"assets/img/gongyixianxue.png"}},[538]);